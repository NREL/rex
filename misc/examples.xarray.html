

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using Xarray &mdash; rex 0.4.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5bfaad31"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Zarr" href="examples.zarr.html" />
    <link rel="prev" title="fsspec" href="examples.fsspec.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            rex
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home page</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation_usage.html">Installation and Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#command-line-tools">Command Line Tools</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="examples.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="examples.nrel_data.html">NREL Renewable Energy Resource Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="examples.nrel_data.html#definitions">Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.nrel_data.html#data-format">Data Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="examples.nrel_data.html#notes-on-chunking">Notes on Chunking</a></li>
<li class="toctree-l4"><a class="reference internal" href="examples.nrel_data.html#common-data-formatting-errors">Common Data Formatting Errors</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="examples.nrel_data.html#data-location-nrel-users">Data Location - NREL Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.nrel_data.html#data-location-external-users">Data Location - External Users</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.nrel_data.html#data-access-examples">Data Access Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="examples.nrel_data.html#the-rex-resource-class">The rex Resource Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="examples.nrel_data.html#the-rex-resource-extraction-class">The rex Resource Extraction Class</a></li>
<li class="toctree-l4"><a class="reference internal" href="examples.nrel_data.html#using-rex-with-xarray">Using rex with xarray</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="examples.nsrdb.html">National Solar Radiation Database (NSRDB)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="examples.nsrdb.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.nsrdb.html#nsrdb-cli">NSRDB CLI</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.nsrdb.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="examples.wind.html">Wind Integration National Dataset (WIND) Toolkit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="examples.wind.html#wind-toolkit-v1-0-0">WIND Toolkit v1.0.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="examples.wind.html#wind-toolkit-references">WIND Toolkit References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="examples.wind.html#national-offshore-wind-data-set-now-23">2023 National Offshore Wind data set (NOW-23)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="examples.wind.html#now-23-references">NOW-23 References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="examples.wind.html#windx-cli">WINDX CLI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="examples.us_wave.html">High Resolution Ocean Surface Wave Hindcast (US Wave) Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="examples.us_wave.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.us_wave.html#model">Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.us_wave.html#directory-structure">Directory structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.us_wave.html#wavex-cli">WaveX CLI</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.us_wave.html#direct-access-via-h5pyd">Direct Access via h5pyd</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.us_wave.html#references">References</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.us_wave.html#disclaimer-and-attribution">Disclaimer and Attribution</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="examples.hsds.html">Highly Scalable Data Service (HSDS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="examples.hsds.html#extra-requirements">Extra Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.hsds.html#nrel-developer-api">NREL Developer API</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.hsds.html#setting-up-a-local-hsds-server">Setting up a Local HSDS Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.hsds.html#hsds-and-rex-usage-examples">HSDS and rex Usage Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="examples.fsspec.html">fsspec</a><ul>
<li class="toctree-l3"><a class="reference internal" href="examples.fsspec.html#code-example">Code Example</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Using Xarray</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-usage">Basic Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#opening-a-single-file">Opening a single file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lazy-loading-rex">Lazy Loading - <code class="docutils literal notranslate"><span class="pre">rex</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#lazy-loading-dask">Lazy Loading - <code class="docutils literal notranslate"><span class="pre">dask</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#opening-multiple-files">Opening Multiple Files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#remote-files">Remote Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#files-on-s3">Files on S3</a></li>
<li class="toctree-l4"><a class="reference internal" href="#files-on-hsds">Files on HSDS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#opening-multiple-remote-files">Opening Multiple Remote Files</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#parallel-computing-with-dask">Parallel Computing with <code class="docutils literal notranslate"><span class="pre">dask</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#case-studies">Case Studies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="examples.zarr.html">Zarr</a><ul>
<li class="toctree-l3"><a class="reference internal" href="examples.zarr.html#extra-requirements">Extra Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="examples.zarr.html#code-example">Code Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../_autosummary/rex.html">API reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.bias_correction.html">rex.bias_correction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.bias_correction.lin_irrad.html">rex.bias_correction.lin_irrad</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.bias_correction.lin_irrad.html#rex.bias_correction.lin_irrad"><code class="docutils literal notranslate"><span class="pre">lin_irrad()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.bias_correction.lin_ws.html">rex.bias_correction.lin_ws</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.bias_correction.lin_ws.html#rex.bias_correction.lin_ws"><code class="docutils literal notranslate"><span class="pre">lin_ws()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.bias_correction.qdm_irrad.html">rex.bias_correction.qdm_irrad</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.bias_correction.qdm_irrad.html#rex.bias_correction.qdm_irrad"><code class="docutils literal notranslate"><span class="pre">qdm_irrad()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.bias_correction.qdm_ws.html">rex.bias_correction.qdm_ws</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.bias_correction.qdm_ws.html#rex.bias_correction.qdm_ws"><code class="docutils literal notranslate"><span class="pre">qdm_ws()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.external.html">rex.external</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.external.rexarray.html">rex.external.rexarray</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.external.rexarray.open_mfdataset_hsds.html">rex.external.rexarray.open_mfdataset_hsds</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.external.rexarray.RexArrayWrapper.html">rex.external.rexarray.RexArrayWrapper</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.external.rexarray.RexBackendEntrypoint.html">rex.external.rexarray.RexBackendEntrypoint</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.external.rexarray.RexCoordVar.html">rex.external.rexarray.RexCoordVar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.external.rexarray.RexMetaVar.html">rex.external.rexarray.RexMetaVar</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.external.rexarray.RexStore.html">rex.external.rexarray.RexStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.external.rexarray.VarInfo.html">rex.external.rexarray.VarInfo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.joint_pd.html">rex.joint_pd</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.joint_pd.joint_pd.html">rex.joint_pd.joint_pd</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.joint_pd.joint_pd.JointPD.html">rex.joint_pd.joint_pd.JointPD</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.joint_pd.wind_rose_cli.html">rex.joint_pd.wind_rose_cli</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.multi_file_resource.html">rex.multi_file_resource</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_file_resource.MultiFileNSRDB.html">rex.multi_file_resource.MultiFileNSRDB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_file_resource.MultiFileNSRDB.html#rex.multi_file_resource.MultiFileNSRDB"><code class="docutils literal notranslate"><span class="pre">MultiFileNSRDB</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_file_resource.MultiFileResource.html">rex.multi_file_resource.MultiFileResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_file_resource.MultiFileResource.html#rex.multi_file_resource.MultiFileResource"><code class="docutils literal notranslate"><span class="pre">MultiFileResource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_file_resource.MultiFileWTK.html">rex.multi_file_resource.MultiFileWTK</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_file_resource.MultiFileWTK.html#rex.multi_file_resource.MultiFileWTK"><code class="docutils literal notranslate"><span class="pre">MultiFileWTK</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_file_resource.MultiH5.html">rex.multi_file_resource.MultiH5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_file_resource.MultiH5.html#rex.multi_file_resource.MultiH5"><code class="docutils literal notranslate"><span class="pre">MultiH5</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_file_resource.MultiH5Path.html">rex.multi_file_resource.MultiH5Path</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_file_resource.MultiH5Path.html#rex.multi_file_resource.MultiH5Path"><code class="docutils literal notranslate"><span class="pre">MultiH5Path</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.multi_res_resource.html">rex.multi_res_resource</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_res_resource.MultiResolutionResource.html">rex.multi_res_resource.MultiResolutionResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_res_resource.MultiResolutionResource.html#rex.multi_res_resource.MultiResolutionResource"><code class="docutils literal notranslate"><span class="pre">MultiResolutionResource</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.html">rex.multi_time_resource</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.MultiTimeH5.html">rex.multi_time_resource.MultiTimeH5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.MultiTimeH5.html#rex.multi_time_resource.MultiTimeH5"><code class="docutils literal notranslate"><span class="pre">MultiTimeH5</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.MultiTimeNSRDB.html">rex.multi_time_resource.MultiTimeNSRDB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.MultiTimeNSRDB.html#rex.multi_time_resource.MultiTimeNSRDB"><code class="docutils literal notranslate"><span class="pre">MultiTimeNSRDB</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.MultiTimeResource.html">rex.multi_time_resource.MultiTimeResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.MultiTimeResource.html#rex.multi_time_resource.MultiTimeResource"><code class="docutils literal notranslate"><span class="pre">MultiTimeResource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.MultiTimeSolarResource.html">rex.multi_time_resource.MultiTimeSolarResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.MultiTimeSolarResource.html#rex.multi_time_resource.MultiTimeSolarResource"><code class="docutils literal notranslate"><span class="pre">MultiTimeSolarResource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.MultiTimeWaveResource.html">rex.multi_time_resource.MultiTimeWaveResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.MultiTimeWaveResource.html#rex.multi_time_resource.MultiTimeWaveResource"><code class="docutils literal notranslate"><span class="pre">MultiTimeWaveResource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.MultiTimeWindResource.html">rex.multi_time_resource.MultiTimeWindResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_time_resource.MultiTimeWindResource.html#rex.multi_time_resource.MultiTimeWindResource"><code class="docutils literal notranslate"><span class="pre">MultiTimeWindResource</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.html">rex.multi_year_resource</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.MultiYearH5.html">rex.multi_year_resource.MultiYearH5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.MultiYearH5.html#rex.multi_year_resource.MultiYearH5"><code class="docutils literal notranslate"><span class="pre">MultiYearH5</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.MultiYearNSRDB.html">rex.multi_year_resource.MultiYearNSRDB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.MultiYearNSRDB.html#rex.multi_year_resource.MultiYearNSRDB"><code class="docutils literal notranslate"><span class="pre">MultiYearNSRDB</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.MultiYearResource.html">rex.multi_year_resource.MultiYearResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.MultiYearResource.html#rex.multi_year_resource.MultiYearResource"><code class="docutils literal notranslate"><span class="pre">MultiYearResource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.MultiYearSolarResource.html">rex.multi_year_resource.MultiYearSolarResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.MultiYearSolarResource.html#rex.multi_year_resource.MultiYearSolarResource"><code class="docutils literal notranslate"><span class="pre">MultiYearSolarResource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.MultiYearWaveResource.html">rex.multi_year_resource.MultiYearWaveResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.MultiYearWaveResource.html#rex.multi_year_resource.MultiYearWaveResource"><code class="docutils literal notranslate"><span class="pre">MultiYearWaveResource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.MultiYearWindResource.html">rex.multi_year_resource.MultiYearWindResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.multi_year_resource.MultiYearWindResource.html#rex.multi_year_resource.MultiYearWindResource"><code class="docutils literal notranslate"><span class="pre">MultiYearWindResource</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.outputs.html">rex.outputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.outputs.Outputs.html">rex.outputs.Outputs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.outputs.Outputs.html#rex.outputs.Outputs"><code class="docutils literal notranslate"><span class="pre">Outputs</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.rechunk_h5.html">rex.rechunk_h5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.rechunk_h5.chunk_size.html">rex.rechunk_h5.chunk_size</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.rechunk_h5.chunk_size.ArrayChunkSize.html">rex.rechunk_h5.chunk_size.ArrayChunkSize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.rechunk_h5.chunk_size.BaseChunkSize.html">rex.rechunk_h5.chunk_size.BaseChunkSize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.rechunk_h5.chunk_size.TimeseriesChunkSize.html">rex.rechunk_h5.chunk_size.TimeseriesChunkSize</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.rechunk_h5.combine_h5.html">rex.rechunk_h5.combine_h5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.rechunk_h5.combine_h5.CombineH5.html">rex.rechunk_h5.combine_h5.CombineH5</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.rechunk_h5.combine_h5_cli.html">rex.rechunk_h5.combine_h5_cli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.rechunk_h5.rechunk_cli.html">rex.rechunk_h5.rechunk_cli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.rechunk_h5.rechunk_h5.html">rex.rechunk_h5.rechunk_h5</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.rechunk_h5.rechunk_h5.get_dataset_attributes.html">rex.rechunk_h5.rechunk_h5.get_dataset_attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.rechunk_h5.rechunk_h5.RechunkH5.html">rex.rechunk_h5.rechunk_h5.RechunkH5</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.renewable_resource.html">rex.renewable_resource</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.renewable_resource.linear_interp.html">rex.renewable_resource.linear_interp</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.renewable_resource.linear_interp.html#rex.renewable_resource.linear_interp"><code class="docutils literal notranslate"><span class="pre">linear_interp()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.renewable_resource.AbstractInterpolatedResource.html">rex.renewable_resource.AbstractInterpolatedResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.renewable_resource.AbstractInterpolatedResource.html#rex.renewable_resource.AbstractInterpolatedResource"><code class="docutils literal notranslate"><span class="pre">AbstractInterpolatedResource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.renewable_resource.GeothermalResource.html">rex.renewable_resource.GeothermalResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.renewable_resource.GeothermalResource.html#rex.renewable_resource.GeothermalResource"><code class="docutils literal notranslate"><span class="pre">GeothermalResource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.renewable_resource.NSRDB.html">rex.renewable_resource.NSRDB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.renewable_resource.NSRDB.html#rex.renewable_resource.NSRDB"><code class="docutils literal notranslate"><span class="pre">NSRDB</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.renewable_resource.SolarResource.html">rex.renewable_resource.SolarResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.renewable_resource.SolarResource.html#rex.renewable_resource.SolarResource"><code class="docutils literal notranslate"><span class="pre">SolarResource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.renewable_resource.WaveResource.html">rex.renewable_resource.WaveResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.renewable_resource.WaveResource.html#rex.renewable_resource.WaveResource"><code class="docutils literal notranslate"><span class="pre">WaveResource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.renewable_resource.WindResource.html">rex.renewable_resource.WindResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.renewable_resource.WindResource.html#rex.renewable_resource.WindResource"><code class="docutils literal notranslate"><span class="pre">WindResource</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.resource.html">rex.resource</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.resource.BaseDatasetIterable.html">rex.resource.BaseDatasetIterable</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource.BaseDatasetIterable.html#rex.resource.BaseDatasetIterable"><code class="docutils literal notranslate"><span class="pre">BaseDatasetIterable</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.resource.BaseResource.html">rex.resource.BaseResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource.BaseResource.html#rex.resource.BaseResource"><code class="docutils literal notranslate"><span class="pre">BaseResource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.resource.Resource.html">rex.resource.Resource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource.Resource.html#rex.resource.Resource"><code class="docutils literal notranslate"><span class="pre">Resource</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.resource.ResourceDataset.html">rex.resource.ResourceDataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource.ResourceDataset.html#rex.resource.ResourceDataset"><code class="docutils literal notranslate"><span class="pre">ResourceDataset</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.resource_extraction.html">rex.resource_extraction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.resource_extraction.US_wave_cli.html">rex.resource_extraction.US_wave_cli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.resource_extraction.multi_year_resource_cli.html">rex.resource_extraction.multi_year_resource_cli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.resource_extraction.nsrdb_cli.html">rex.resource_extraction.nsrdb_cli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_cli.html">rex.resource_extraction.resource_cli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.html">rex.resource_extraction.resource_extraction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.MultiFileNSRDBX.html">rex.resource_extraction.resource_extraction.MultiFileNSRDBX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.MultiFileResourceX.html">rex.resource_extraction.resource_extraction.MultiFileResourceX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.MultiFileWindX.html">rex.resource_extraction.resource_extraction.MultiFileWindX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.MultiTimeNSRDBX.html">rex.resource_extraction.resource_extraction.MultiTimeNSRDBX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.MultiTimeResourceX.html">rex.resource_extraction.resource_extraction.MultiTimeResourceX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.MultiTimeWaveX.html">rex.resource_extraction.resource_extraction.MultiTimeWaveX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.MultiTimeWindX.html">rex.resource_extraction.resource_extraction.MultiTimeWindX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.MultiYearNSRDBX.html">rex.resource_extraction.resource_extraction.MultiYearNSRDBX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.MultiYearResourceX.html">rex.resource_extraction.resource_extraction.MultiYearResourceX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.MultiYearWaveX.html">rex.resource_extraction.resource_extraction.MultiYearWaveX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.MultiYearWindX.html">rex.resource_extraction.resource_extraction.MultiYearWindX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.NSRDBX.html">rex.resource_extraction.resource_extraction.NSRDBX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.ResourceX.html">rex.resource_extraction.resource_extraction.ResourceX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.SolarX.html">rex.resource_extraction.resource_extraction.SolarX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.WaveX.html">rex.resource_extraction.resource_extraction.WaveX</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.resource_extraction.resource_extraction.WindX.html">rex.resource_extraction.resource_extraction.WindX</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.resource_extraction.wave_cli.html">rex.resource_extraction.wave_cli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.resource_extraction.wind_cli.html">rex.resource_extraction.wind_cli</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.sam_resource.html">rex.sam_resource</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.sam_resource.SAMResource.html">rex.sam_resource.SAMResource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.sam_resource.SAMResource.html#rex.sam_resource.SAMResource"><code class="docutils literal notranslate"><span class="pre">SAMResource</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.temporal_stats.html">rex.temporal_stats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.temporal_stats.temporal_stats.html">rex.temporal_stats.temporal_stats</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.temporal_stats.temporal_stats.cdf.html">rex.temporal_stats.temporal_stats.cdf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.temporal_stats.temporal_stats.circular_mean.html">rex.temporal_stats.temporal_stats.circular_mean</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.temporal_stats.temporal_stats.TemporalStats.html">rex.temporal_stats.temporal_stats.TemporalStats</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.temporal_stats.temporal_stats_cli.html">rex.temporal_stats.temporal_stats_cli</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.utilities.html">rex.utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.bc_parse_table.html">rex.utilities.bc_parse_table</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.bc_parse_table.parse_bc_table.html">rex.utilities.bc_parse_table.parse_bc_table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.bc_utils.html">rex.utilities.bc_utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.bc_utils.sample_cdf.html">rex.utilities.bc_utils.sample_cdf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.bc_utils.sample_q_invlog.html">rex.utilities.bc_utils.sample_q_invlog</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.bc_utils.sample_q_linear.html">rex.utilities.bc_utils.sample_q_linear</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.bc_utils.sample_q_log.html">rex.utilities.bc_utils.sample_q_log</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.bc_utils.QuantileDeltaMapping.html">rex.utilities.bc_utils.QuantileDeltaMapping</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.cli_dtypes.html">rex.utilities.cli_dtypes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.cli_dtypes.sanitize_str.html">rex.utilities.cli_dtypes.sanitize_str</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.cli_dtypes.FloatListType.html">rex.utilities.cli_dtypes.FloatListType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.cli_dtypes.FloatType.html">rex.utilities.cli_dtypes.FloatType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.cli_dtypes.IntListType.html">rex.utilities.cli_dtypes.IntListType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.cli_dtypes.IntType.html">rex.utilities.cli_dtypes.IntType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.cli_dtypes.ListType.html">rex.utilities.cli_dtypes.ListType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.cli_dtypes.PathListType.html">rex.utilities.cli_dtypes.PathListType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.cli_dtypes.StrFloatType.html">rex.utilities.cli_dtypes.StrFloatType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.cli_dtypes.StrListType.html">rex.utilities.cli_dtypes.StrListType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.cli_dtypes.StrOrListType.html">rex.utilities.cli_dtypes.StrOrListType</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.cli_dtypes.StrType.html">rex.utilities.cli_dtypes.StrType</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.html">rex.utilities.exceptions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.ExecutionError.html">rex.utilities.exceptions.ExecutionError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.ExtrapolationWarning.html">rex.utilities.exceptions.ExtrapolationWarning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.FileInputError.html">rex.utilities.exceptions.FileInputError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.HandlerRuntimeError.html">rex.utilities.exceptions.HandlerRuntimeError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.HandlerValueError.html">rex.utilities.exceptions.HandlerValueError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.HpcError.html">rex.utilities.exceptions.HpcError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.JSONError.html">rex.utilities.exceptions.JSONError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.LoggerWarning.html">rex.utilities.exceptions.LoggerWarning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.MoninObukhovExtrapolationError.html">rex.utilities.exceptions.MoninObukhovExtrapolationError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.ParallelExecutionWarning.html">rex.utilities.exceptions.ParallelExecutionWarning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.PbsWarning.html">rex.utilities.exceptions.PbsWarning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.ResourceError.html">rex.utilities.exceptions.ResourceError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.ResourceKeyError.html">rex.utilities.exceptions.ResourceKeyError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.ResourceRuntimeError.html">rex.utilities.exceptions.ResourceRuntimeError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.ResourceValueError.html">rex.utilities.exceptions.ResourceValueError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.ResourceWarning.html">rex.utilities.exceptions.ResourceWarning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.RetryError.html">rex.utilities.exceptions.RetryError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.RetryWarning.html">rex.utilities.exceptions.RetryWarning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.SAMInputWarning.html">rex.utilities.exceptions.SAMInputWarning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.SlurmError.html">rex.utilities.exceptions.SlurmError</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.exceptions.SlurmWarning.html">rex.utilities.exceptions.SlurmWarning</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.execution.html">rex.utilities.execution</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.execution.execute_parallel.html">rex.utilities.execution.execute_parallel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.execution.execute_single.html">rex.utilities.execution.execute_single</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.execution.SmartParallelJob.html">rex.utilities.execution.SmartParallelJob</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.execution.SpawnProcessPool.html">rex.utilities.execution.SpawnProcessPool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.execution.SubprocessManager.html">rex.utilities.execution.SubprocessManager</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.fun_utils.html">rex.utilities.fun_utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.fun_utils.arg_to_str.html">rex.utilities.fun_utils.arg_to_str</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.fun_utils.get_arg_str.html">rex.utilities.fun_utils.get_arg_str</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.fun_utils.get_class.html">rex.utilities.fun_utils.get_class</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.fun_utils.get_fun_call_str.html">rex.utilities.fun_utils.get_fun_call_str</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.fun_utils.get_fun_str.html">rex.utilities.fun_utils.get_fun_str</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.fun_utils.has_class.html">rex.utilities.fun_utils.has_class</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.fun_utils.is_standalone_fun.html">rex.utilities.fun_utils.is_standalone_fun</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.hpc.html">rex.utilities.hpc</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.hpc.HpcJobManager.html">rex.utilities.hpc.HpcJobManager</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.hpc.PBS.html">rex.utilities.hpc.PBS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.hpc.SLURM.html">rex.utilities.hpc.SLURM</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.loggers.html">rex.utilities.loggers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.loggers.add_handlers.html">rex.utilities.loggers.add_handlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.loggers.clear_handlers.html">rex.utilities.loggers.clear_handlers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.loggers.create_dirs.html">rex.utilities.loggers.create_dirs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.loggers.get_handler.html">rex.utilities.loggers.get_handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.loggers.init_logger.html">rex.utilities.loggers.init_logger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.loggers.init_mult.html">rex.utilities.loggers.init_mult</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.loggers.log_mem.html">rex.utilities.loggers.log_mem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.loggers.log_versions.html">rex.utilities.loggers.log_versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.loggers.setup_logger.html">rex.utilities.loggers.setup_logger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.loggers.LoggingAttributes.html">rex.utilities.loggers.LoggingAttributes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.parse_keys.html">rex.utilities.parse_keys</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.parse_keys.parse_keys.html">rex.utilities.parse_keys.parse_keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.parse_keys.parse_slice.html">rex.utilities.parse_keys.parse_slice</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.regridder.html">rex.utilities.regridder</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.regridder.CachedRegridder.html">rex.utilities.regridder.CachedRegridder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.regridder.Regridder.html">rex.utilities.regridder.Regridder</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.solar_position.html">rex.utilities.solar_position</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.solar_position.SolarPosition.html">rex.utilities.solar_position.SolarPosition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.toml_parser.html">rex.utilities.toml_parser</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.toml_parser.flatten_dict.html">rex.utilities.toml_parser.flatten_dict</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.toml_parser.TOMLParser.html">rex.utilities.toml_parser.TOMLParser</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.html">rex.utilities.utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.assert_read_only_mode.html">rex.utilities.utilities.assert_read_only_mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.check_eval_str.html">rex.utilities.utilities.check_eval_str</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.check_hsds_file.html">rex.utilities.utilities.check_hsds_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.check_res_file.html">rex.utilities.utilities.check_res_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.check_tz.html">rex.utilities.utilities.check_tz</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.dict_str_load.html">rex.utilities.utilities.dict_str_load</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.filename_from_h5pyd.html">rex.utilities.utilities.filename_from_h5pyd</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.filename_timestamp.html">rex.utilities.utilities.filename_timestamp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.get_chunk_ranges.html">rex.utilities.utilities.get_chunk_ranges</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.get_class_properties.html">rex.utilities.utilities.get_class_properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.get_dtype.html">rex.utilities.utilities.get_dtype</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.get_lat_lon_cols.html">rex.utilities.utilities.get_lat_lon_cols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.import_io_module_or_fail.html">rex.utilities.utilities.import_io_module_or_fail</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.is_hsds_file.html">rex.utilities.utilities.is_hsds_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.is_s3_file.html">rex.utilities.utilities.is_s3_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.jsonify_dict.html">rex.utilities.utilities.jsonify_dict</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.mean_irrad.html">rex.utilities.utilities.mean_irrad</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.parse_date_int.html">rex.utilities.utilities.parse_date_int</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.parse_table.html">rex.utilities.utilities.parse_table</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.parse_timestamp.html">rex.utilities.utilities.parse_timestamp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.parse_year.html">rex.utilities.utilities.parse_year</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.pd_date_range.html">rex.utilities.utilities.pd_date_range</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.res_dist_threshold.html">rex.utilities.utilities.res_dist_threshold</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.rex_unscale.html">rex.utilities.utilities.rex_unscale</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.roll_timeseries.html">rex.utilities.utilities.roll_timeseries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.row_col_indices.html">rex.utilities.utilities.row_col_indices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.safe_json_load.html">rex.utilities.utilities.safe_json_load</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.safe_yaml_load.html">rex.utilities.utilities.safe_yaml_load</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.slice_sites.html">rex.utilities.utilities.slice_sites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.split_sites_list.html">rex.utilities.utilities.split_sites_list</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.split_sites_slice.html">rex.utilities.utilities.split_sites_slice</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.str_to_date.html">rex.utilities.utilities.str_to_date</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.str_to_datetime.html">rex.utilities.utilities.str_to_datetime</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.timestamp_format_to_redex.html">rex.utilities.utilities.timestamp_format_to_redex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.to_records_array.html">rex.utilities.utilities.to_records_array</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.unstupify_path.html">rex.utilities.utilities.unstupify_path</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.validate_filepath.html">rex.utilities.utilities.validate_filepath</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.write_json.html">rex.utilities.utilities.write_json</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_autosummary/rex.utilities.utilities.Retry.html">rex.utilities.utilities.Retry</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_autosummary/rex.version.html">rex.version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../_cli/cli.html">CLI reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../_cli/combine-h5.html">combine-h5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_cli/MultiYearX.html">MultiYearX</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_cli/MultiYearX.html#multiyearx-dataset">dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_cli/MultiYearX.html#multiyearx-dataset-box">box</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/MultiYearX.html#multiyearx-dataset-map-means">map-means</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/MultiYearX.html#multiyearx-dataset-multi-site">multi-site</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/MultiYearX.html#multiyearx-dataset-region">region</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/MultiYearX.html#multiyearx-dataset-site">site</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_cli/NSRDBX.html">NSRDBX</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_cli/NSRDBX.html#nsrdbx-dataset">dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_cli/NSRDBX.html#nsrdbx-dataset-box">box</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/NSRDBX.html#nsrdbx-dataset-multi-site">multi-site</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/NSRDBX.html#nsrdbx-dataset-region">region</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/NSRDBX.html#nsrdbx-dataset-site">site</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/NSRDBX.html#nsrdbx-sam-datasets">sam-datasets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_cli/rechunk.html">rechunk</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_cli/rex.html">rex</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_cli/rex.html#rex-dataset">dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_cli/rex.html#rex-dataset-box">box</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/rex.html#rex-dataset-multi-site">multi-site</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/rex.html#rex-dataset-region">region</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/rex.html#rex-dataset-site">site</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/rex.html#rex-sam-datasets">sam-datasets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_cli/temporal-stats.html">temporal-stats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_cli/temporal-stats.html#temporal-stats-diurnal">diurnal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/temporal-stats.html#temporal-stats-full">full</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/temporal-stats.html#temporal-stats-monthly">monthly</a></li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/temporal-stats.html#temporal-stats-monthly-diurnal">monthly-diurnal</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_cli/US-wave.html">US-wave</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_cli/US-wave.html#us-wave-dataset">dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_cli/US-wave.html#us-wave-dataset-box">box</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/US-wave.html#us-wave-dataset-map-means">map-means</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/US-wave.html#us-wave-dataset-multi-site">multi-site</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/US-wave.html#us-wave-dataset-region">region</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/US-wave.html#us-wave-dataset-site">site</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_cli/WaveX.html">WaveX</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_cli/WaveX.html#wavex-dataset">dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_cli/WaveX.html#wavex-dataset-box">box</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/WaveX.html#wavex-dataset-multi-site">multi-site</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/WaveX.html#wavex-dataset-region">region</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/WaveX.html#wavex-dataset-site">site</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/WaveX.html#wavex-sam-datasets">sam-datasets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_cli/wind-rose.html">wind-rose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_cli/WINDX.html">WINDX</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../_cli/WINDX.html#windx-dataset">dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../_cli/WINDX.html#windx-dataset-box">box</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/WINDX.html#windx-dataset-multi-site">multi-site</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/WINDX.html#windx-dataset-region">region</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_cli/WINDX.html#windx-dataset-site">site</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../_cli/WINDX.html#windx-sam-datasets">sam-datasets</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">rex</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="examples.html">Examples</a></li>
      <li class="breadcrumb-item active">Using Xarray</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/nrel/rex/blob/main/docs/source/misc/examples.xarray.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-xarray">
<h1>Using Xarray<a class="headerlink" href="#using-xarray" title="Link to this heading"></a></h1>
<p>As of rex <code class="docutils literal notranslate"><span class="pre">v0.2.99</span></code>, you can read <a class="reference external" href="https://nrel.github.io/rex/misc/examples.nrel_data.html">NREL data files</a>
using the popular open-source library <a class="reference external" href="https://docs.xarray.dev/en/stable/index.html">xarray</a>. You can learn
more about the benefits of using <code class="docutils literal notranslate"><span class="pre">xarray</span></code> <a class="reference external" href="https://docs.xarray.dev/en/stable/getting-started-guide/why-xarray.html">here</a>.</p>
<section id="basic-usage">
<h2>Basic Usage<a class="headerlink" href="#basic-usage" title="Link to this heading"></a></h2>
<section id="opening-a-single-file">
<h3>Opening a single file<a class="headerlink" href="#opening-a-single-file" title="Link to this heading"></a></h3>
<p>To read in an NREL data file, simply <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">NREL-rex</span></code> and then supply <code class="docutils literal notranslate"><span class="pre">engine=&quot;rex&quot;</span></code> to the xarray
<a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.open_dataset.html#xarray-open-dataset">open_dataset</a>
function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rex</span><span class="w"> </span><span class="kn">import</span> <span class="n">TESTDATADIR</span>

<span class="n">WTK_2012_FP</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">TESTDATADIR</span><span class="p">,</span> <span class="s1">&#39;wtk&#39;</span><span class="p">,</span> <span class="s1">&#39;ri_100_wtk_2012.h5&#39;</span><span class="p">)</span>

<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">WTK_2012_FP</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;rex&quot;</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;xarray.Dataset&gt; Size: 32MB</span>
<span class="go">Dimensions:             (time: 8784, gid: 200)</span>
<span class="go">Coordinates:</span>
<span class="go">    time_index          (time) datetime64[ns] 70kB ...</span>
<span class="go">  * time                (time) datetime64[ns] 70kB 2012-01-01 ... 2012-12-31T...</span>
<span class="go">  * gid                 (gid) int64 2kB 0 1 2 3 4 5 ... 194 195 196 197 198 199</span>
<span class="go">    latitude            (gid) float32 800B ...</span>
<span class="go">    longitude           (gid) float32 800B ...</span>
<span class="go">    country             (gid) |S13 3kB ...</span>
<span class="go">    state               (gid) |S4 800B ...</span>
<span class="go">    county              (gid) |S22 4kB ...</span>
<span class="go">    timezone            (gid) int16 400B ...</span>
<span class="go">    elevation           (gid) int16 400B ...</span>
<span class="go">    offshore            (gid) int16 400B ...</span>
<span class="go">Data variables:</span>
<span class="go">    pressure_0m         (time, gid) uint16 4MB ...</span>
<span class="go">    pressure_100m       (time, gid) uint16 4MB ...</span>
<span class="go">    pressure_200m       (time, gid) uint16 4MB ...</span>
<span class="go">    temperature_100m    (time, gid) int16 4MB ...</span>
<span class="go">    temperature_80m     (time, gid) int16 4MB ...</span>
<span class="go">    winddirection_100m  (time, gid) uint16 4MB ...</span>
<span class="go">    winddirection_80m   (time, gid) uint16 4MB ...</span>
<span class="go">    windspeed_100m      (time, gid) uint16 4MB ...</span>
<span class="go">    windspeed_80m       (time, gid) uint16 4MB ...</span>
</pre></div>
</div>
</section>
<section id="lazy-loading-rex">
<h3>Lazy Loading - <code class="docutils literal notranslate"><span class="pre">rex</span></code><a class="headerlink" href="#lazy-loading-rex" title="Link to this heading"></a></h3>
<p>Note that the operation above (reading a file using <code class="docutils literal notranslate"><span class="pre">xr.open_dataset</span></code>)
did not immediately load arrays into memory. This is because the <code class="docutils literal notranslate"><span class="pre">rex</span></code>
backend provides lazily-loaded arrays.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is not <code class="docutils literal notranslate"><span class="pre">dask</span></code>, since we did not specify the <code class="docutils literal notranslate"><span class="pre">chunks=...</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">xr.open_dataset</span></code>.</p>
</div>
<p>You can verify this for yourself by checking the private <code class="docutils literal notranslate"><span class="pre">_data</span></code> attribute:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;windspeed_100m&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">variable</span><span class="o">.</span><span class="n">_data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">MemoryCachedArray(array=CopyOnWriteArray(array=LazilyIndexedArray(array=&lt;rex.external.rexarray.RexArrayWrapper object at 0x7fdea431dae0&gt;, key=BasicIndexer((slice(None, None, None), slice(None, None, None))))))</span>
</pre></div>
</div>
<p>You can see that we have a <code class="docutils literal notranslate"><span class="pre">LazilyIndexedArray</span></code> instance around the custom
<code class="docutils literal notranslate"><span class="pre">RexArrayWrapper</span></code> object. Notably, there is no data shown.</p>
<p>You can get the data to load into memory like so, although be careful as
loading this for the full-sized WIND/NSRDB files will load tens or hundreds of
GB into memory:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;windspeed_100m&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">[[ 7.25  7.13  6.9  ...  8.7   8.66  8.45]</span>
<span class="go">[ 8.02  7.7   8.12 ...  6.02  5.98  6.51]</span>
<span class="go">[10.23  9.76  9.82 ...  7.15  7.51  7.69]</span>
<span class="go">...</span>
<span class="go">[ 8.74  8.78  9.19 ... 11.97 12.17 12.43]</span>
<span class="go">[10.34 10.33 10.41 ... 12.87 12.9  13.  ]</span>
<span class="go">[10.34 10.43 10.74 ... 14.77 14.85 14.82]]</span>
</pre></div>
</div>
<p>Now if we check the <code class="docutils literal notranslate"><span class="pre">_data</span></code> attribute again, we can see that the data values
have been loaded:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;windspeed_100m&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">variable</span><span class="o">.</span><span class="n">_data</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">MemoryCachedArray(array=NumpyIndexingAdapter(array=array([[ 7.25,  7.13,  6.9 , ...,  8.7 ,  8.66,  8.45],</span>
<span class="go">    [ 8.02,  7.7 ,  8.12, ...,  6.02,  5.98,  6.51],</span>
<span class="go">    [10.23,  9.76,  9.82, ...,  7.15,  7.51,  7.69],</span>
<span class="go">    ...,</span>
<span class="go">    [ 8.74,  8.78,  9.19, ..., 11.97, 12.17, 12.43],</span>
<span class="go">    [10.34, 10.33, 10.41, ..., 12.87, 12.9 , 13.  ],</span>
<span class="go">    [10.34, 10.43, 10.74, ..., 14.77, 14.85, 14.82]], shape=(8784, 200))))</span>
</pre></div>
</div>
<p>Operations on these arrays are not lazy and <em>will</em> cause them to get loaded
into memory:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s2">&quot;windspeed_80m&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;xarray.DataArray &#39;windspeed_80m&#39; (time: 8784, gid: 200)&gt; Size: 14MB</span>
<span class="go">array([[12.96, 12.82, 12.46, ..., 17.2 , 17.16, 16.76],</span>
<span class="go">    [14.2 , 13.58, 14.5 , ..., 11.82, 11.24, 11.78],</span>
<span class="go">    [18.64, 17.32, 17.26, ..., 14.18, 14.96, 15.32],</span>
<span class="go">    ...,</span>
<span class="go">    [16.04, 16.2 , 17.02, ..., 23.8 , 24.22, 24.74],</span>
<span class="go">    [18.92, 18.92, 18.9 , ..., 25.56, 25.64, 25.86],</span>
<span class="go">    [18.9 , 19.18, 19.74, ..., 29.3 , 29.46, 29.42]], shape=(8784, 200))</span>
<span class="go">Coordinates:</span>
<span class="go">    time_index  (time) datetime64[ns] 70kB ...</span>
<span class="go">  * time        (time) datetime64[ns] 70kB 2012-01-01 ... 2012-12-31T23:00:00</span>
<span class="go">  * gid         (gid) int64 2kB 0 1 2 3 4 5 6 7 ... 193 194 195 196 197 198 199</span>
<span class="go">    latitude    (gid) float32 800B ...</span>
<span class="go">    longitude   (gid) float32 800B ...</span>
<span class="go">    country     (gid) |S13 3kB ...</span>
<span class="go">    state       (gid) |S4 800B ...</span>
<span class="go">    county      (gid) |S22 4kB ...</span>
<span class="go">    timezone    (gid) int16 400B ...</span>
<span class="go">    elevation   (gid) int16 400B ...</span>
<span class="go">    offshore    (gid) int16 400B ...</span>
</pre></div>
</div>
</section>
<section id="lazy-loading-dask">
<h3>Lazy Loading - <code class="docutils literal notranslate"><span class="pre">dask</span></code><a class="headerlink" href="#lazy-loading-dask" title="Link to this heading"></a></h3>
<p>We can also request that our data be read in lazily using <a class="reference external" href="https://www.dask.org/">dask</a>.
The easiest way to do this is to provide a <code class="docutils literal notranslate"><span class="pre">chunks=...</span></code> parameter in <code class="docutils literal notranslate"><span class="pre">xr.open_dataset</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ds_dask</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">WTK_2012_FP</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;rex&quot;</span><span class="p">,</span> <span class="n">chunks</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
<span class="n">ds_dask</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;xarray.Dataset&gt; Size: 32MB</span>
<span class="go">Dimensions:             (time: 8784, gid: 200)</span>
<span class="go">Coordinates:</span>
<span class="go">    time_index          (time) datetime64[ns] 70kB dask.array&lt;chunksize=(8784,), meta=np.ndarray&gt;</span>
<span class="go">  * time                (time) datetime64[ns] 70kB 2012-01-01 ... 2012-12-31T...</span>
<span class="go">  * gid                 (gid) int64 2kB 0 1 2 3 4 5 ... 194 195 196 197 198 199</span>
<span class="go">    latitude            (gid) float32 800B dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    longitude           (gid) float32 800B dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    country             (gid) |S13 3kB dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    state               (gid) |S4 800B dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    county              (gid) |S22 4kB dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    timezone            (gid) int16 400B dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    elevation           (gid) int16 400B dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    offshore            (gid) int16 400B dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">Data variables:</span>
<span class="go">    pressure_0m         (time, gid) uint16 4MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    pressure_100m       (time, gid) uint16 4MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    pressure_200m       (time, gid) uint16 4MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    temperature_100m    (time, gid) int16 4MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    temperature_80m     (time, gid) int16 4MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    winddirection_100m  (time, gid) uint16 4MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    winddirection_80m   (time, gid) uint16 4MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    windspeed_100m      (time, gid) uint16 4MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    windspeed_80m       (time, gid) uint16 4MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
</pre></div>
</div>
<p>We can immediately tell that dask is being used because the data are represented by dask arrays.
Operations on this dataset <em>are</em> lazy:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ds_dask</span><span class="p">[</span><span class="s2">&quot;windspeed_100m&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;xarray.DataArray &#39;windspeed_100m&#39; ()&gt; Size: 8B</span>
<span class="go">dask.array&lt;mean_agg-aggregate, shape=(), dtype=float64, chunksize=(), chunktype=numpy.ndarray&gt;</span>
</pre></div>
</div>
<p>We can see that no values has been given. To run the computation, we have to call the <code class="docutils literal notranslate"><span class="pre">.compute()</span></code>
method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ds_dask</span><span class="p">[</span><span class="s2">&quot;windspeed_100m&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;xarray.DataArray &#39;windspeed_100m&#39; ()&gt; Size: 8B</span>
<span class="go">array(7.65926428)</span>
</pre></div>
</div>
<p>For more information on using dask with xarray, see <a class="reference external" href="https://docs.xarray.dev/en/stable/user-guide/dask.html">this</a> guide.</p>
</section>
<section id="opening-multiple-files">
<h3>Opening Multiple Files<a class="headerlink" href="#opening-multiple-files" title="Link to this heading"></a></h3>
<p>You can use <code class="docutils literal notranslate"><span class="pre">xr.open_mfdataset</span></code> to open multiple NREL data files at once.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>By default, <code class="docutils literal notranslate"><span class="pre">xarray</span></code> does not assume that the coordinate data (i.e. meta variables)
match across files. As a result, it will try to load all coordinates and compare them
during the concatenation step. This process involves significant I/O and can drastically
increase the runtime of <code class="docutils literal notranslate"><span class="pre">xr.open_mfdataset</span></code> calls. Since the underlying assumption in
rex-style data is that the meta remains consistent across files, we can tell <code class="docutils literal notranslate"><span class="pre">xarray</span></code>
to skip this validation by passing  <code class="docutils literal notranslate"><span class="pre">compat=&quot;override&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">coords=&quot;minimal&quot;</span></code> to the
<code class="docutils literal notranslate"><span class="pre">xr.open_mfdataset</span></code> call.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rex</span><span class="w"> </span><span class="kn">import</span> <span class="n">TESTDATADIR</span>

<span class="n">WTK_FPS</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">TESTDATADIR</span><span class="p">,</span> <span class="s1">&#39;wtk&#39;</span><span class="p">,</span> <span class="s1">&#39;ri_100_wtk_20*.h5&#39;</span><span class="p">)</span>

<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">WTK_FPS</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;rex&quot;</span><span class="p">,</span> <span class="n">compat</span><span class="o">=</span><span class="s2">&quot;override&quot;</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="s2">&quot;minimal&quot;</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;xarray.Dataset&gt; Size: 63MB</span>
<span class="go">Dimensions:             (time: 17544, gid: 200)</span>
<span class="go">Coordinates:</span>
<span class="go">    time_index          (time) datetime64[ns] 140kB dask.array&lt;chunksize=(8784,), meta=np.ndarray&gt;</span>
<span class="go">  * time                (time) datetime64[ns] 140kB 2012-01-01 ... 2013-12-31...</span>
<span class="go">  * gid                 (gid) int64 2kB 0 1 2 3 4 5 ... 194 195 196 197 198 199</span>
<span class="go">    latitude            (gid) float32 800B dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    longitude           (gid) float32 800B dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    country             (gid) |S13 3kB dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    state               (gid) |S4 800B dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    county              (gid) |S22 4kB dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    timezone            (gid) int16 400B dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    elevation           (gid) int16 400B dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">    offshore            (gid) int16 400B dask.array&lt;chunksize=(200,), meta=np.ndarray&gt;</span>
<span class="go">Data variables:</span>
<span class="go">    pressure_0m         (time, gid) uint16 7MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    pressure_100m       (time, gid) uint16 7MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    pressure_200m       (time, gid) uint16 7MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    temperature_100m    (time, gid) int16 7MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    temperature_80m     (time, gid) int16 7MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    winddirection_100m  (time, gid) uint16 7MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    winddirection_80m   (time, gid) uint16 7MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    windspeed_100m      (time, gid) uint16 7MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
<span class="go">    windspeed_80m       (time, gid) uint16 7MB dask.array&lt;chunksize=(8784, 200), meta=np.ndarray&gt;</span>
</pre></div>
</div>
<p>The shape of <code class="docutils literal notranslate"><span class="pre">time</span></code> indicates that two years of data have been loaded. You can also verify this directly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">time</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;xarray.DataArray &#39;time&#39; (time: 2)&gt; Size: 16B</span>
<span class="go">array([&#39;2012-01-01T00:00:00.000000000&#39;, &#39;2013-12-31T23:00:00.000000000&#39;],</span>
<span class="go">    dtype=&#39;datetime64[ns]&#39;)</span>
<span class="go">Coordinates:</span>
<span class="go">    time_index  (time) datetime64[ns] 16B dask.array&lt;chunksize=(2,), meta=np.ndarray&gt;</span>
<span class="go">  * time        (time) datetime64[ns] 16B 2012-01-01 2013-12-31T23:00:00</span>
<span class="go">Attributes:</span>
<span class="go">    standard_name:  time</span>
<span class="go">    long_name:      time</span>
<span class="go">    calendar:       proleptic_gregorian</span>
<span class="go">    time_zone:      UTC</span>
</pre></div>
</div>
</section>
</section>
<section id="remote-files">
<h2>Remote Files<a class="headerlink" href="#remote-files" title="Link to this heading"></a></h2>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">xarray</span></code> to open remote files directly. If you do not have
access to the NREL HPC, this guide is for you. See instructions
<a class="reference external" href="file:///Users/gbuster/code/rex/docs/_build/html/misc/examples.nrel_data.html#data-location-external-users">here</a>
on where to find these file paths on S3 and HSDS.</p>
<section id="files-on-s3">
<h3>Files on S3<a class="headerlink" href="#files-on-s3" title="Link to this heading"></a></h3>
<p>For files on S3, you do not need to do anything beyond just providing the S3
filepath:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>

<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="s2">&quot;s3://nrel-pds-nsrdb/current/nsrdb_1998.h5&quot;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;rex&quot;</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;xarray.Dataset&gt; Size: 2TB</span>
<span class="go">Dimensions:                   (time: 17520, gid: 2018267)</span>
<span class="go">Coordinates:</span>
<span class="go">    time_index                (time) datetime64[ns] 140kB ...</span>
<span class="go">  * time                      (time) datetime64[ns] 140kB 1998-01-01 ... 1998...</span>
<span class="go">  * gid                       (gid) int64 16MB 0 1 2 ... 2018264 2018265 2018266</span>
<span class="go">    latitude                  (gid) float32 8MB ...</span>
<span class="go">    longitude                 (gid) float32 8MB ...</span>
<span class="go">    elevation                 (gid) int16 4MB ...</span>
<span class="go">    timezone                  (gid) int16 4MB ...</span>
<span class="go">    country                   (gid) |S36 73MB ...</span>
<span class="go">    state                     (gid) |S31 63MB ...</span>
<span class="go">    county                    (gid) |S51 103MB ...</span>
<span class="go">Data variables: (12/26)</span>
<span class="go">    air_temperature           (time, gid) int16 71GB ...</span>
<span class="go">    alpha                     (time, gid) uint8 35GB ...</span>
<span class="go">    aod                       (time, gid) uint16 71GB ...</span>
<span class="go">    asymmetry                 (time, gid) int8 35GB ...</span>
<span class="go">    cld_opd_dcomp             (time, gid) uint16 71GB ...</span>
<span class="go">    cld_press_acha            (time, gid) uint16 71GB ...</span>
<span class="go">    ...                        ...</span>
<span class="go">    ssa                       (time, gid) uint8 35GB ...</span>
<span class="go">    surface_albedo            (time, gid) uint8 35GB ...</span>
<span class="go">    surface_pressure          (time, gid) uint16 71GB ...</span>
<span class="go">    total_precipitable_water  (time, gid) uint8 35GB ...</span>
<span class="go">    wind_direction            (time, gid) uint16 71GB ...</span>
<span class="go">    wind_speed                (time, gid) uint16 71GB ...</span>
<span class="go">Attributes:</span>
<span class="go">    version:  3.2.2</span>
</pre></div>
</div>
<p>Just like before, the data is lazy-loaded, so reading in the file does not take too long.
However, once you start processing the data, it will need to be downloaded, which can be
time consuming.</p>
</section>
<section id="files-on-hsds">
<h3>Files on HSDS<a class="headerlink" href="#files-on-hsds" title="Link to this heading"></a></h3>
<p>A more performant option is to use HSDS (see
<a class="reference external" href="https://nrel.github.io/rex/misc/examples.hsds.html#setting-up-a-local-hsds-server">this guide</a>
on setting up your own local hsds server):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>

<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="s2">&quot;/nrel/nsrdb/v3/nsrdb_1998.h5&quot;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;rex&quot;</span><span class="p">,</span> <span class="n">hsds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;xarray.Dataset&gt; Size: 2TB</span>
<span class="go">Dimensions:                   (time: 17520, gid: 2018392)</span>
<span class="go">Coordinates: (12/13)</span>
<span class="go">    time_index                (time) datetime64[ns] 140kB ...</span>
<span class="go">  * time                      (time) datetime64[ns] 140kB 1998-01-01 ... 1998...</span>
<span class="go">  * gid                       (gid) int64 16MB 0 1 2 ... 2018389 2018390 2018391</span>
<span class="go">    latitude                  (gid) float32 8MB ...</span>
<span class="go">    longitude                 (gid) float32 8MB ...</span>
<span class="go">    elevation                 (gid) float32 8MB ...</span>
<span class="go">    ...                        ...</span>
<span class="go">    country                   (gid) |S30 61MB ...</span>
<span class="go">    state                     (gid) |S30 61MB ...</span>
<span class="go">    county                    (gid) |S30 61MB ...</span>
<span class="go">    urban                     (gid) |S30 61MB ...</span>
<span class="go">    population                (gid) int32 8MB ...</span>
<span class="go">    landcover                 (gid) int16 4MB ...</span>
<span class="go">Data variables: (12/25)</span>
<span class="go">    air_temperature           (time, gid) int8 35GB ...</span>
<span class="go">    alpha                     (time, gid) int16 71GB ...</span>
<span class="go">    aod                       (time, gid) int16 71GB ...</span>
<span class="go">    asymmetry                 (time, gid) int16 71GB ...</span>
<span class="go">    cld_opd_dcomp             (time, gid) int16 71GB ...</span>
<span class="go">    cld_reff_dcomp            (time, gid) int16 71GB ...</span>
<span class="go">    ...                        ...</span>
<span class="go">    ssa                       (time, gid) int16 71GB ...</span>
<span class="go">    surface_albedo            (time, gid) int16 71GB ...</span>
<span class="go">    surface_pressure          (time, gid) int16 71GB ...</span>
<span class="go">    total_precipitable_water  (time, gid) int16 71GB ...</span>
<span class="go">    wind_direction            (time, gid) int16 71GB ...</span>
<span class="go">    wind_speed                (time, gid) int16 71GB ...</span>
<span class="go">Attributes:</span>
<span class="go">    Version:  3.0.6</span>
</pre></div>
</div>
</section>
<section id="opening-multiple-remote-files">
<h3>Opening Multiple Remote Files<a class="headerlink" href="#opening-multiple-remote-files" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">xr.open_mfdataset</span></code> does not support the wildcard (<code class="docutils literal notranslate"><span class="pre">*</span></code>) syntax for remote files,
so to open multiple files on S3, you have to list them out explicitly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>

<span class="n">files</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;s3://nrel-pds-nsrdb/current/nsrdb_1998.h5&quot;</span><span class="p">,</span>
    <span class="s2">&quot;s3://nrel-pds-nsrdb/current/nsrdb_1999.h5&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_mfdataset</span><span class="p">(</span><span class="n">files</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;rex&quot;</span><span class="p">,</span> <span class="n">compat</span><span class="o">=</span><span class="s2">&quot;override&quot;</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="s2">&quot;minimal&quot;</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;xarray.Dataset&gt; Size: 3TB</span>
<span class="go">Dimensions:                   (time: 35040, gid: 2018267)</span>
<span class="go">Coordinates:</span>
<span class="go">    time_index                (time) datetime64[ns] 280kB dask.array&lt;chunksize=(17520,), meta=np.ndarray&gt;</span>
<span class="go">  * time                      (time) datetime64[ns] 280kB 1998-01-01 ... 1999...</span>
<span class="go">  * gid                       (gid) int64 16MB 0 1 2 ... 2018264 2018265 2018266</span>
<span class="go">    latitude                  (gid) float32 8MB dask.array&lt;chunksize=(2018267,), meta=np.ndarray&gt;</span>
<span class="go">    longitude                 (gid) float32 8MB dask.array&lt;chunksize=(2018267,), meta=np.ndarray&gt;</span>
<span class="go">    elevation                 (gid) int16 4MB dask.array&lt;chunksize=(2018267,), meta=np.ndarray&gt;</span>
<span class="go">    timezone                  (gid) int16 4MB dask.array&lt;chunksize=(2018267,), meta=np.ndarray&gt;</span>
<span class="go">    country                   (gid) |S36 73MB dask.array&lt;chunksize=(2018267,), meta=np.ndarray&gt;</span>
<span class="go">    state                     (gid) |S31 63MB dask.array&lt;chunksize=(2018267,), meta=np.ndarray&gt;</span>
<span class="go">    county                    (gid) |S51 103MB dask.array&lt;chunksize=(2018267,), meta=np.ndarray&gt;</span>
<span class="go">Data variables: (12/26)</span>
<span class="go">    air_temperature           (time, gid) int16 141GB dask.array&lt;chunksize=(2000, 500), meta=np.ndarray&gt;</span>
<span class="go">    alpha                     (time, gid) uint8 71GB dask.array&lt;chunksize=(2000, 1000), meta=np.ndarray&gt;</span>
<span class="go">    aod                       (time, gid) uint16 141GB dask.array&lt;chunksize=(2000, 500), meta=np.ndarray&gt;</span>
<span class="go">    asymmetry                 (time, gid) int8 71GB dask.array&lt;chunksize=(2000, 1000), meta=np.ndarray&gt;</span>
<span class="go">    cld_opd_dcomp             (time, gid) uint16 141GB dask.array&lt;chunksize=(2000, 500), meta=np.ndarray&gt;</span>
<span class="go">    cld_press_acha            (time, gid) uint16 141GB dask.array&lt;chunksize=(2000, 500), meta=np.ndarray&gt;</span>
<span class="go">    ...                        ...</span>
<span class="go">    ssa                       (time, gid) uint8 71GB dask.array&lt;chunksize=(2000, 1000), meta=np.ndarray&gt;</span>
<span class="go">    surface_albedo            (time, gid) uint8 71GB dask.array&lt;chunksize=(2000, 1000), meta=np.ndarray&gt;</span>
<span class="go">    surface_pressure          (time, gid) uint16 141GB dask.array&lt;chunksize=(2000, 500), meta=np.ndarray&gt;</span>
<span class="go">    total_precipitable_water  (time, gid) uint8 71GB dask.array&lt;chunksize=(2000, 1000), meta=np.ndarray&gt;</span>
<span class="go">    wind_direction            (time, gid) uint16 141GB dask.array&lt;chunksize=(2000, 500), meta=np.ndarray&gt;</span>
<span class="go">    wind_speed                (time, gid) uint16 141GB dask.array&lt;chunksize=(2000, 500), meta=np.ndarray&gt;</span>
<span class="go">Attributes:</span>
<span class="go">    version:  3.2.2</span>
</pre></div>
</div>
<p>Due to technical limitations, you cannot use <code class="docutils literal notranslate"><span class="pre">xr.open_mfdataset</span></code> to open multiple files
via HSDS. Instead, you can use the <code class="docutils literal notranslate"><span class="pre">rex.open_mfdataset_hsds</span></code> function, which does
accept wildcard inputs:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rex</span><span class="w"> </span><span class="kn">import</span> <span class="n">open_mfdataset_hsds</span>

<span class="n">ds</span> <span class="o">=</span> <span class="n">open_mfdataset_hsds</span><span class="p">(</span><span class="s2">&quot;/nrel/nsrdb/v3/nsrdb_199*.h5&quot;</span><span class="p">,</span> <span class="n">compat</span><span class="o">=</span><span class="s2">&quot;override&quot;</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="s2">&quot;minimal&quot;</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;xarray.Dataset&gt; Size: 3TB</span>
<span class="go">Dimensions:                   (time: 35040, gid: 2018392)</span>
<span class="go">Coordinates: (12/13)</span>
<span class="go">    time_index                (time) datetime64[ns] 280kB dask.array&lt;chunksize=(17520,), meta=np.ndarray&gt;</span>
<span class="go">  * time                      (time) datetime64[ns] 280kB 1998-01-01 ... 1999...</span>
<span class="go">  * gid                       (gid) int64 16MB 0 1 2 ... 2018389 2018390 2018391</span>
<span class="go">    latitude                  (gid) float32 8MB dask.array&lt;chunksize=(252299,), meta=np.ndarray&gt;</span>
<span class="go">    longitude                 (gid) float32 8MB dask.array&lt;chunksize=(252299,), meta=np.ndarray&gt;</span>
<span class="go">    elevation                 (gid) float32 8MB dask.array&lt;chunksize=(12856,), meta=np.ndarray&gt;</span>
<span class="go">    ...                        ...</span>
<span class="go">    country                   (gid) |S30 61MB dask.array&lt;chunksize=(12856,), meta=np.ndarray&gt;</span>
<span class="go">    state                     (gid) |S30 61MB dask.array&lt;chunksize=(12856,), meta=np.ndarray&gt;</span>
<span class="go">    county                    (gid) |S30 61MB dask.array&lt;chunksize=(12856,), meta=np.ndarray&gt;</span>
<span class="go">    urban                     (gid) |S30 61MB dask.array&lt;chunksize=(12856,), meta=np.ndarray&gt;</span>
<span class="go">    population                (gid) int32 8MB dask.array&lt;chunksize=(12856,), meta=np.ndarray&gt;</span>
<span class="go">    landcover                 (gid) int16 4MB dask.array&lt;chunksize=(12856,), meta=np.ndarray&gt;</span>
<span class="go">Data variables: (12/25)</span>
<span class="go">    air_temperature           (time, gid) int8 71GB dask.array&lt;chunksize=(2688, 744), meta=np.ndarray&gt;</span>
<span class="go">    alpha                     (time, gid) int16 141GB dask.array&lt;chunksize=(2688, 372), meta=np.ndarray&gt;</span>
<span class="go">    aod                       (time, gid) int16 141GB dask.array&lt;chunksize=(2688, 372), meta=np.ndarray&gt;</span>
<span class="go">    asymmetry                 (time, gid) int16 141GB dask.array&lt;chunksize=(2688, 372), meta=np.ndarray&gt;</span>
<span class="go">    cld_opd_dcomp             (time, gid) int16 141GB dask.array&lt;chunksize=(2688, 372), meta=np.ndarray&gt;</span>
<span class="go">    cld_reff_dcomp            (time, gid) int16 141GB dask.array&lt;chunksize=(2688, 372), meta=np.ndarray&gt;</span>
<span class="go">    ...                        ...</span>
<span class="go">    ssa                       (time, gid) int16 141GB dask.array&lt;chunksize=(2688, 372), meta=np.ndarray&gt;</span>
<span class="go">    surface_albedo            (time, gid) int16 141GB dask.array&lt;chunksize=(2688, 372), meta=np.ndarray&gt;</span>
<span class="go">    surface_pressure          (time, gid) int16 141GB dask.array&lt;chunksize=(2688, 372), meta=np.ndarray&gt;</span>
<span class="go">    total_precipitable_water  (time, gid) int16 141GB dask.array&lt;chunksize=(2688, 372), meta=np.ndarray&gt;</span>
<span class="go">    wind_direction            (time, gid) int16 141GB dask.array&lt;chunksize=(2688, 372), meta=np.ndarray&gt;</span>
<span class="go">    wind_speed                (time, gid) int16 141GB dask.array&lt;chunksize=(2688, 372), meta=np.ndarray&gt;</span>
<span class="go">Attributes:</span>
<span class="go">    Version:  3.0.6</span>
</pre></div>
</div>
<p>The object returned by this function is a standard <code class="docutils literal notranslate"><span class="pre">xarray.Dataset</span></code>, so you can plug it directly into
your analysis workflow.</p>
</section>
</section>
<section id="parallel-computing-with-dask">
<h2>Parallel Computing with <code class="docutils literal notranslate"><span class="pre">dask</span></code><a class="headerlink" href="#parallel-computing-with-dask" title="Link to this heading"></a></h2>
<p>Although your computations are lazy if you load your data with <code class="docutils literal notranslate"><span class="pre">dask</span></code>, they still only run on a single
process (or thread pool) by default (see <a class="reference external" href="https://docs.dask.org/en/stable/scheduling.html#scheduling">here</a>
for more info on the <code class="docutils literal notranslate"><span class="pre">dask</span></code> schedulers). In order to quickly and easily parallelize your computations,
you can use <a class="reference external" href="https://distributed.dask.org/en/stable/">dask-distributed</a>.</p>
<p>To start off, install the required library:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>distributed<span class="w"> </span>--upgrade
</pre></div>
</div>
<p>Next, you should start a <code class="docutils literal notranslate"><span class="pre">dask</span></code> client that controls your parallelization scheme:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">dask.distributed</span><span class="w"> </span><span class="kn">import</span> <span class="n">Client</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">n_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">memory_limit</span><span class="o">=</span><span class="s1">&#39;10GB&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, we have told dask that we would like our computations to take
up 4 cores and a maximum of 10GB of memory per worker. Once this client is
running, you can write your data analysis code as normal. Any <code class="docutils literal notranslate"><span class="pre">dask</span></code>
computations you do will be performed in chunks using 4 processes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">rex</span><span class="w"> </span><span class="kn">import</span> <span class="n">TESTDATADIR</span>

<span class="n">WTK_2012_FP</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">TESTDATADIR</span><span class="p">,</span> <span class="s1">&#39;wtk&#39;</span><span class="p">,</span> <span class="s1">&#39;ri_100_wtk_2012.h5&#39;</span><span class="p">)</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">WTK_2012_FP</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;rex&quot;</span><span class="p">,</span> <span class="n">chunks</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
<span class="n">ds</span><span class="p">[</span><span class="s2">&quot;windspeed_100m&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">compute</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-python-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;xarray.DataArray &#39;windspeed_100m&#39; (gid: 200)&gt; Size: 2kB</span>
<span class="go">array([6.87944558, 6.93480874, 6.99835383, 6.93864071, 6.94729167,</span>
<span class="go">       7.10710155, 7.20108265, 7.16832536, 7.17782559, 7.32525729,</span>
<span class="go">       7.31806466, 7.33072291, 7.28809312, 7.22210041, 7.26382286,</span>
<span class="go">       7.22113616, 7.07780852, 7.08420082, 7.06300888, 7.29566712,</span>
<span class="go">       7.39969945, 7.45076844, 7.43958447, 7.43899704, 7.46535405,</span>
<span class="go">       7.42845401, 7.29795651, 7.19493852, 7.05814663, 6.88442168,</span>
<span class="go">       6.85640938, 6.85859176, 7.05063525, 7.09214253, 7.14200478,</span>
<span class="go">       7.23776412, 7.31980874, 7.27634107, 7.23299977, 7.30763434,</span>
<span class="go">       7.36336179, 7.29896175, 7.14903347, 7.01208447, 6.89744877,</span>
<span class="go">       6.75741234, 6.70825137, 6.7998816 , 6.95533584, 6.86520833,</span>
<span class="go">       6.89120105, 6.97641507, 7.03485883, 7.18894353, 7.24894923,</span>
<span class="go">       7.16365437, 6.94202641, 6.83164959, 7.01116462, 7.16896744,</span>
<span class="go">       7.12047473, 6.9952163 , 6.87737705, 6.76693875, 6.66649021,</span>
<span class="go">       6.64727345, 6.77149704, 6.85299522, 7.09365551, 6.93533356,</span>
<span class="go">       6.93294627, 7.01532673, 7.03204235, 7.06432377, 7.13546903,</span>
<span class="go">       7.18949567, 7.31379098, 7.25667464, 7.01673725, 6.76937158,</span>
<span class="go">       6.77199567, 7.02523338, 7.18999203, 7.13933629, 7.02185109,</span>
<span class="go">       6.8873224 , 6.74311362, 6.63313183, 6.56818306, 6.56203097,</span>
<span class="go">       6.55499772, 7.82230419, 7.6846209 , 7.01713912, 7.38534608,</span>
<span class="go">       7.27920993, 7.14663138, 7.10545879, 7.03550091, 6.89493739,</span>
<span class="go">       6.97185109, 7.14635246, 7.99603256, 7.87955373, 8.10967896,</span>
<span class="go">       8.04715392, 7.94161544, 7.81445811, 8.21366576, 8.16868056,</span>
<span class="go">       8.10710155, 8.00840392, 7.90002732, 7.6702015 , 8.24766735,</span>
<span class="go">       8.20477117, 8.14225638, 8.05135246, 7.95503985, 7.78786544,</span>
<span class="go">       8.31860997, 8.29575364, 8.25664276, 8.19562955, 8.11789617,</span>
<span class="go">       8.02574112, 7.91357013, 8.36183402, 8.35696949, 8.3436612 ,</span>
<span class="go">       8.32018784, 8.28632969, 8.23200137, 8.17405738, 8.09175319,</span>
<span class="go">       8.00542919, 7.86773224, 8.4832434 , 8.4748133 , 8.44929986,</span>
<span class="go">       8.42680328, 8.40229508, 8.38972336, 8.37218807, 8.3485633 ,</span>
<span class="go">       8.32098588, 8.27343579, 8.23153119, 8.16400159, 8.08327641,</span>
<span class="go">       7.98567851, 7.80577186, 8.50659722, 8.50146403, 8.50739982,</span>
<span class="go">       8.51652436, 8.51465733, 8.51314094, 8.49275273, 8.47009904,</span>
<span class="go">       8.44045765, 8.42123406, 8.39814663, 8.37284381, 8.34804303,</span>
<span class="go">       8.30322746, 8.27097791, 8.21462773, 8.13777778, 8.05820355,</span>
<span class="go">       7.94375455, 7.79726207, 8.52080829, 8.52497837, 8.52421107,</span>
<span class="go">       8.53359403, 8.53315574, 8.53251138, 8.53214367, 8.53220856,</span>
<span class="go">       8.53655624, 8.52449681, 8.50425888, 8.4733857 , 8.45109517,</span>
<span class="go">       8.42566826, 8.39944331, 8.37924408, 8.33734403, 8.31360087,</span>
<span class="go">       8.26787568, 8.20503074, 8.13375228, 8.04971881, 7.95212659,</span>
<span class="go">       8.56010474, 8.55197177, 8.54179417, 8.54154599, 8.53991234])</span>
<span class="go">Coordinates:</span>
<span class="go">  * gid        (gid) int64 2kB 0 1 2 3 4 5 6 7 ... 193 194 195 196 197 198 199</span>
<span class="go">    latitude   (gid) float32 800B 41.96 41.98 42.0 41.9 ... 40.91 40.93 40.95</span>
<span class="go">    longitude  (gid) float32 800B -71.79 -71.79 -71.78 ... -71.79 -71.78 -71.78</span>
<span class="go">    country    (gid) |S13 3kB b&#39;United States&#39; b&#39;United States&#39; ... b&#39;None&#39;</span>
<span class="go">    state      (gid) |S4 800B b&#39;RI&#39; b&#39;RI&#39; b&#39;RI&#39; ... b&#39;None&#39; b&#39;None&#39; b&#39;None&#39;</span>
<span class="go">    county     (gid) |S22 4kB b&#39;Providence&#39; b&#39;Providence&#39; ... b&#39;None&#39; b&#39;None&#39;</span>
<span class="go">    timezone   (gid) int16 400B -5 -5 -5 -5 -5 -5 -5 -5 ... -5 -5 -5 -5 -5 -5 -5</span>
<span class="go">    elevation  (gid) int16 400B 202 178 174 195 201 170 187 ... 0 0 0 0 0 0 0</span>
<span class="go">    offshore   (gid) int16 400B 0 0 0 0 0 0 0 0 0 0 0 ... 1 1 1 1 1 1 1 1 1 1 1</span>
</pre></div>
</div>
<p>Remember that in order for the computations to be distributed using <code class="docutils literal notranslate"><span class="pre">dask</span></code>, you must
load your data into <code class="docutils literal notranslate"><span class="pre">dask</span></code> arrays. The easiest way to do this is to specify <code class="docutils literal notranslate"><span class="pre">chunks=...</span></code>
when your read in the data (as weve done above).</p>
</section>
<section id="case-studies">
<h2>Case Studies<a class="headerlink" href="#case-studies" title="Link to this heading"></a></h2>
<p>Once you have opened the file with <code class="docutils literal notranslate"><span class="pre">xarray</span></code>, you can take full advantage of the librarys
powerful features to perform data analysis tasks. Check out some examples of this below:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/NREL/rex/blob/main/examples/xarray/daily_agg.ipynb">Daily Aggregations using Xarray</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="examples.fsspec.html" class="btn btn-neutral float-left" title="fsspec" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="examples.zarr.html" class="btn btn-neutral float-right" title="Zarr" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Alliance for Sustainable Energy, LLC.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>